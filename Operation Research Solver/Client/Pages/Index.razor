@page "/"

<!-- External Resources -->
<link href="https://cdn.tailwindcss.com" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="css/style.css">
<script src="js/script.js" defer></script>

<!-- Main Content from your HTML body -->
<div class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- Header Section -->
    <header class="text-center mb-12">
        <h1 class="text-4xl font-bold text-blue-800 mb-2">Linear Programming Solver</h1>
        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
            Upload your LP/IP model file, select an algorithm, and get optimized solutions with sensitivity analysis.
        </p>
    </header>

        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Tabs Navigation -->
            <div class="flex border-b border-gray-200">
                <button class="tab-btn py-4 px-6 font-medium text-gray-500 hover:text-blue-600 focus:outline-none border-b-2 border-transparent hover:border-blue-300 active" data-tab="upload">
                    <i class="fas fa-upload mr-2"></i>Model Upload
                </button>
                <button class="tab-btn py-4 px-6 font-medium text-gray-500 hover:text-blue-600 focus:outline-none border-b-2 border-transparent hover:border-blue-300" data-tab="solve">
                    <i class="fas fa-calculator mr-2"></i>Solve Model
                </button>
                <button class="tab-btn py-4 px-6 font-medium text-gray-500 hover:text-blue-600 focus:outline-none border-b-2 border-transparent hover:border-blue-300" data-tab="analysis">
                    <i class="fas fa-chart-line mr-2"></i>Sensitivity Analysis
                </button>
            </div>

            <!-- Tab Contents -->
            <div class="p-6">
                <!-- Upload Tab -->
                <div id="upload" class="tab-content active">
                    <div class="mb-8">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Upload Your Model</h2>
                        <p class="text-gray-600 mb-6">
                            Upload a .txt file containing your LP/IP model in the specified format. See example below.
                        </p>
                        
                        <div class="flex flex-col md:flex-row gap-8">
                            <div class="flex-1">
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                    <label for="modelFile" class="file-input-label cursor-pointer">
                                        <div class="flex flex-col items-center justify-center">
                                            <i class="fas fa-cloud-upload-alt text-5xl text-blue-500 mb-4"></i>
                                            <h3 class="text-lg font-medium text-gray-700 mb-2">Click to upload or drag and drop</h3>
                                            <p class="text-sm text-gray-500 mb-4">.txt files only</p>
                                            <span class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">Select File</span>
                                        </div>
                                        <input id="modelFile" type="file" accept=".txt" class="hidden">
                                    </label>
                                </div>
                                <div id="fileInfo" class="mt-4 text-sm text-gray-600 hidden">
                                    <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                    <span id="fileName">example.txt</span> selected
                                </div>
                            </div>
                            
                            <div class="flex-1">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">File Format Example</h3>
                                <div class="bg-gray-100 p-4 rounded-lg">
                                   
                                </div>
                                <div class="mt-4 text-sm text-gray-600">
                                    <p class="mb-2"><span class="font-medium">First line:</span> Problem type (min/max) and objective coefficients</p>
                                    <p class="mb-2"><span class="font-medium">Middle lines:</span> Constraints (coefficients, operator, RHS)</p>
                                    <p><span class="font-medium">Last line:</span> Variable restrictions (+, -, int, bin, urs)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="filePreviewSection" class="hidden">
                        <h3 class="text-xl font-semibold text-gray-800 mb-3">File Preview</h3>
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <pre id="filePreview" class="text-sm"></pre>
                        </div>
                    </div>
                </div>

                <!-- Solve Tab -->
                <div id="solve" class="tab-content">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Solve Model</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="md:col-span-2">
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Model Summary</h3>
                                <div id="modelSummary" class="text-sm text-gray-700">
                                    No model loaded. Please upload a file in the Upload section.
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Algorithm Selection</h3>
                                <div class="mb-4">
                                    <label for="algorithm" class="block text-sm font-medium text-gray-700 mb-1">Choose solving method:</label>
                                    <select id="algorithm" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                        <option value="primal">Primal Simplex</option>
                                        <option value="revised">Revised Simplex</option>
                                        <option value="branch_bound_simplex">Branch & Bound (Simplex)</option>
                                        <option value="cutting_plane">Cutting Plane</option>
                                        <option value="branch_bound_knapsack">Branch & Bound (Knapsack)</option>
                                    </select>
                                </div>
                                <button id="runSolverBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition flex items-center justify-center">
                                    <i class="fas fa-play-circle mr-2"></i> Run Solver
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-gray-800 mb-3">Solution Output</h3>
                        <div class="output-container bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <div id="solverOutput" class="text-sm font-mono">
                                <p class="text-gray-500 italic">Solution output will appear here after running the solver.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-wrap gap-3">
                        <button id="downloadResultsBtn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition flex items-center disabled:opacity-50" disabled>
                            <i class="fas fa-file-download mr-2"></i> Download Results
                        </button>
                        <button id="resetSolverBtn" class="bg-gray-600 hover:bg-gray-700 text-white font-medium py-2 px-4 rounded-md transition flex items-center">
                            <i class="fas fa-redo mr-2"></i> Reset
                        </button>
                    </div>
                </div>

                <!-- Analysis Tab -->
                <div id="analysis" class="tab-content">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Sensitivity Analysis</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <div>
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-6">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Current Solution</h3>
                                <div id="currentSolution" class="text-sm">
                                    <p class="text-gray-500 italic">No solution available yet. Please solve a model first.</p>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Sensitivity Tools</h3>
                                <p class="text-sm text-gray-600 mb-4">Perform additional analysis on the solved model:</p>
                                 <div class="grid grid-cols-1 sm:grid-cols-3 gap-3">
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="range-nonbasic">
                                        <i class="fas fa-ruler-horizontal mr-2"></i> Range of Non-Basic Var
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="change-nonbasic">
                                        <i class="fas fa-exchange-alt mr-2"></i> Change Non-Basic Var
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="range-basic">
                                        <i class="fas fa-ruler-combined mr-2"></i> Range of Basic Var
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="change-basic">
                                        <i class="fas fa-random mr-2"></i> Change Basic Var
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="range-rhs">
                                        <i class="fas fa-ruler-vertical mr-2"></i> Range of RHS
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="change-rhs">
                                        <i class="fas fa-retweet mr-2"></i> Change RHS Value
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="range-nonbasic-col">
                                        <i class="fas fa-columns mr-2"></i> Range in Non-Basic Col
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="change-nonbasic-col">
                                        <i class="fas fa-edit mr-2"></i> Change in Non-Basic Col
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="add-activity">
                                        <i class="fas fa-plus-square mr-2"></i> Add New Activity
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="add-constraint">
                                        <i class="fas fa-plus-circle mr-2"></i> Add Constraint
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="shadow-prices">
                                        <i class="fas fa-project-diagram mr-2"></i> Shadow Prices
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="apply-duality">
                                        <i class="fas fa-code-branch mr-2"></i> Apply Duality
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="solve-dual">
                                        <i class="fas fa-arrows-alt-h mr-2"></i> Solve Dual Model
                                    </button>
                                    <button class="sensitivity-btn bg-purple-100 hover:bg-purple-200 text-purple-800 font-medium py-2 px-3 rounded-md text-sm flex items-center" data-analysis="verify-duality">
                                        <i class="fas fa-check-double mr-2"></i> Verify Duality
                                    </button>
                                </div>
                                
                            </div>
                        </div>
                         <div class="grid grid-cols-1 gap-6">
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Analysis Results</h3>
                                <div id="sensitivityOutput" class="output-container text-sm font-mono">
                                    <p class="text-gray-500 italic">Sensitivity analysis results will appear here.</p>
                                </div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                                <h3 class="text-lg font-medium text-gray-800 mb-3">Graphical Analysis</h3>
                                <canvas id="sensitivityChart" height="300"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

       
    
    <!-- Footer -->
    <footer class="mt-12 text-center text-gray-500 text-sm">
        <p>Linear Programming Solver &copy; 2023 | Created for Operations Research</p>
    </footer>
</div>